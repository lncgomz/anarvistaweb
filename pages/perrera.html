<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
  </head>
  <link rel="stylesheet" href="../css/cus.css" />
  <link rel="stylesheet" href="../css/customFonts.css" />
  <script src="../js/aframe.min.js"></script>
  <script src="../js/aframe-ar.js"></script>
  <script src="../js/aframe-particle-system-component.js"></script>
  <script
      src="https://kit.fontawesome.com/a927a7050d.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
  <script src="../customJs/control.js"></script>
  <body style="margin: 0px; overflow: hidden;" onload="retrieveLinks()">
    <span id="links" hidden></span>
    <a-scene embedded vr-mode-ui="enabled: false;" arjs='debugUIEnabled: false; sourceType: webcam; sourceWidth:640; sourceHeight:480; displayWidth: 640; displayHeight: 480; detectionMode: color_and_matrix;' renderer='precision: medium;'>
        <a-assets>
          <a-asset-item id="perrera" src="../models/perrera.gltf"></a-asset-item>
          <audio
            id="perreraAudio"
            src="../audio/laperrera.mp3"
            preload="auto"
          ></audio>
        </a-assets>
  

        <a-marker-camera
        id="perrera"
        type="pattern"
        url="../data/perrera.patt"
        registerevents
      >
        <a-entity
          position="0 -1 0"
          particle-system="
          texture: ../images/particles/hand.png;
          color: #00FFFF, #FF00FF;
          size: 0, 1;
          velocityValue: 0.007 0.005 0.003;
          velocitySpread: 0.7 0 0.3;
          accelerationValue: 0.003 0.005 0.007;
          accelerationSpread: 0.005 0.005 0.005;
          rotationAngle: 0;
          blending: 1;
          particleCount: 200;
          maxAge: 5;"
        ></a-entity>
        <a-entity
          position="0 0 0"
          rotation="0 0 0"
          class="clickable"
          scale="5 5 5"
          gltf-model="#perrera"
          animation="property: rotation; from: 0 0 0; to: 0 0 360; loop: true; dur: 2000"
          animation__2="property: scale; from:5 5 5; to:15 15 15; loop: true; dur: 6000"
          sound="src: #perreraAudio; autoplay: false; loop: false"
        ></a-entity>
      </a-marker-camera>
      <!-- <a-entity camera mouse-cursor position="0 0 0"> -->
    </a-scene>

    <footer>   
      <div class="row legendGroup">
        <div class="col-2"><a href="../index.html"><i class="ctrlBtn fa-solid fa-arrow-left"></i></a></div>
        <div class="col-8 command">Escanea el marcador AR</div>
        <div class="col-4 infoFooter legendText" hidden></div>
        <div class="col-4 songText" hidden></div>
        <div class="col-2"><a href="../about.html"><i class="ctrlBtn fa-solid fa-info"></i></a></div>
      </div>  
      <div class="col-12 centerGroup btnGroup">
          <button id="facebookBtn" hidden="true">
            <i class="fa fa-brands fa-facebook"></i>
          </button>
          <button id="instagramBtn" hidden="true">
            <i class="fa fa-brands fa-instagram"></i>
          </button>
          <button id="threadsBtn" hidden="true">
            <i class="fa fa-brands fa-threads"></i>
          </button>
          <button id="youtubeBtn" hidden="true">
            <i class="fa fa-brands fa-youtube"></i>
          </button>
          <button id="archiveBtn" hidden="true">
            <i class="fa fa-solid fa-book-open-reader"></i>
          </button>
          <button id="bandcampBtn" hidden="true">
            <i class="fa fa-brands fa-bandcamp"></i>
          </button>
          <button id="spotifyBtn" hidden="true">
            <i class="fa fa-brands fa-spotify"></i>
          </button>
          <button id="locationBtn" hidden="true">
            <i class="fa fa-solid fa-map-location"></i>
          </button>
          <button id="webBtn" hidden="true">
            <i class="fa fa-solid fa-globe"></i>
          </button>          
        </div>
      </div>
    </footer>
  </body>
</html>
